{"ast":null,"code":"import React,{useState}from\"react\";import\"./index.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=\"https://backend-giaoan-gdnn.onrender.com\";function App(){const[selectedFile,setSelectedFile]=useState(null);const[loaiGiaoAn,setLoaiGiaoAn]=useState(\"lythuyet\");const[loading,setLoading]=useState(false);const handleFileChange=event=>{setSelectedFile(event.target.files[0]);};const handleSubmit=async()=>{if(!selectedFile){alert(\"Vui lòng chọn file đề cương.\");return;}const formData=new FormData();formData.append(\"file\",selectedFile);formData.append(\"loai\",loaiGiaoAn);setLoading(true);try{const response=await fetch(`${API_URL}/generate-docx`,{method:\"POST\",body:formData});if(!response.ok)throw new Error(\"Không thể tạo file .docx\");const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;a.download=\"giao_an_output.docx\";document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);}catch(error){alert(\"Xuất file thất bại: \"+error.message);console.error(\"Lỗi khi gọi API:\",error);}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-center mb-4\",children:\"T\\u1EA1o Gi\\xE1o \\xC1n T\\u1EF1 \\u0110\\u1ED9ng\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:`px-4 py-2 rounded ${loaiGiaoAn===\"lythuyet\"?\"bg-blue-500 text-white\":\"bg-white border\"}`,onClick:()=>setLoaiGiaoAn(\"lythuyet\"),children:\"L\\xFD thuy\\u1EBFt\"}),/*#__PURE__*/_jsx(\"button\",{className:`px-4 py-2 rounded ${loaiGiaoAn===\"thuchanh\"?\"bg-green-500 text-white\":\"bg-white border\"}`,onClick:()=>setLoaiGiaoAn(\"thuchanh\"),children:\"Th\\u1EF1c h\\xE0nh\"}),/*#__PURE__*/_jsx(\"button\",{className:`px-4 py-2 rounded ${loaiGiaoAn===\"tichhop\"?\"bg-orange-500 text-white\":\"bg-white border\"}`,onClick:()=>setLoaiGiaoAn(\"tichhop\"),children:\"T\\xEDch h\\u1EE3p\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange,className:\"border p-2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:loading||!selectedFile,className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\",children:loading?\"Đang xử lý...\":\"Tạo giáo án\"})]}),selectedFile&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-sm text-gray-600\",children:[\"\\u0110\\xE3 ch\\u1ECDn: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedFile.name})]})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","API_URL","App","selectedFile","setSelectedFile","loaiGiaoAn","setLoaiGiaoAn","loading","setLoading","handleFileChange","event","target","files","handleSubmit","alert","formData","FormData","append","response","fetch","method","body","ok","Error","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","error","message","console","className","children","onClick","type","onChange","disabled","name"],"sources":["E:/Ai/Source - app - giao an/giaoan-gdnn-ai/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./index.css\";\n\nconst API_URL = \"https://backend-giaoan-gdnn.onrender.com\";\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [loaiGiaoAn, setLoaiGiaoAn] = useState(\"lythuyet\");\n  const [loading, setLoading] = useState(false);\n\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const handleSubmit = async () => {\n    if (!selectedFile) {\n      alert(\"Vui lòng chọn file đề cương.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile);\n    formData.append(\"loai\", loaiGiaoAn);\n\n    setLoading(true);\n\n    try {\n      const response = await fetch(`${API_URL}/generate-docx`, {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) throw new Error(\"Không thể tạo file .docx\");\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"giao_an_output.docx\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      alert(\"Xuất file thất bại: \" + error.message);\n      console.error(\"Lỗi khi gọi API:\", error);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-4\">\n      <h1 className=\"text-2xl font-bold text-center mb-4\">Tạo Giáo Án Tự Động</h1>\n\n      <div className=\"flex justify-center gap-2 mb-4\">\n        <button\n          className={`px-4 py-2 rounded ${\n            loaiGiaoAn === \"lythuyet\" ? \"bg-blue-500 text-white\" : \"bg-white border\"\n          }`}\n          onClick={() => setLoaiGiaoAn(\"lythuyet\")}\n        >\n          Lý thuyết\n        </button>\n        <button\n          className={`px-4 py-2 rounded ${\n            loaiGiaoAn === \"thuchanh\" ? \"bg-green-500 text-white\" : \"bg-white border\"\n          }`}\n          onClick={() => setLoaiGiaoAn(\"thuchanh\")}\n        >\n          Thực hành\n        </button>\n        <button\n          className={`px-4 py-2 rounded ${\n            loaiGiaoAn === \"tichhop\" ? \"bg-orange-500 text-white\" : \"bg-white border\"\n          }`}\n          onClick={() => setLoaiGiaoAn(\"tichhop\")}\n        >\n          Tích hợp\n        </button>\n      </div>\n\n      <div className=\"flex justify-center gap-2 mb-4\">\n        <input type=\"file\" onChange={handleFileChange} className=\"border p-2\" />\n        <button\n          onClick={handleSubmit}\n          disabled={loading || !selectedFile}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\n        >\n          {loading ? \"Đang xử lý...\" : \"Tạo giáo án\"}\n        </button>\n      </div>\n\n      {selectedFile && (\n        <p className=\"text-center text-sm text-gray-600\">\n          Đã chọn: <strong>{selectedFile.name}</strong>\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}